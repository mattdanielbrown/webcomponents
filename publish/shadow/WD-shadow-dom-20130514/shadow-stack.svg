<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="664" height="643pt" version="1.1" viewBox="35 31 498 643"><metadata xmlns:dc="http://purl.org/dc/elements/1.1/"><dc:date>2012-05-03 21:52Z</dc:date></metadata><defs><filter id="Shadow" filterUnits="userSpaceOnUse"><feGaussianBlur in="SourceAlpha" result="blur" stdDeviation="3.488"/><feOffset dx="0" dy="4" in="blur" result="offset"/><feFlood flood-color="#000" flood-opacity=".75" result="flood"/><feComposite in="flood" in2="offset" operator="in"/></filter><font-face x-height="522.949" ascent="770.02" cap-height="717.285" descent="-229.98" font-family="Helvetica" font-size="12" font-weight="500" slope="0" underline-position="-75.684" underline-thickness="49.316" units-per-em="1000"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><marker id="SharpArrow_Marker" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-6 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M -5 0 L 3 3 L 0 0 L 0 0 L 3 -3 Z"/></g></marker><marker id="SharpArrow_Marker_2" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-4 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 5 0 L -3 -3 L 0 0 L 0 0 L -3 3 Z"/></g></marker></defs><g fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>Canvas 1</title><g><title>Layer 2</title><g><use filter="url(#Shadow)" xl:href="#id46_Graphic"/></g><g id="id46_Graphic"><rect width="274" height="549" x="248" y="110" fill="#fff"/><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 248 110 L 522 110 L 522 659 L 248 659 Z"/><text fill="#000" transform="translate(253 115)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12" font-weight="500" textLength="153.404">Shadow DOM Subtree Stack</tspan></text></g></g><g><title>Layer 1</title><g><use filter="url(#Shadow)" xl:href="#id3_Graphic"/><use filter="url(#Shadow)" xl:href="#id5_Graphic"/><use filter="url(#Shadow)" xl:href="#id6_Graphic"/><use filter="url(#Shadow)" xl:href="#id7_Graphic"/><use filter="url(#Shadow)" xl:href="#id8_Graphic"/><use filter="url(#Shadow)" xl:href="#id9_Graphic"/><use filter="url(#Shadow)" xl:href="#id11_Graphic"/><use filter="url(#Shadow)" xl:href="#id13_Graphic"/><use filter="url(#Shadow)" xl:href="#id15_Graphic"/><use filter="url(#Shadow)" xl:href="#id16_Graphic"/><use filter="url(#Shadow)" xl:href="#id17_Graphic"/><use filter="url(#Shadow)" xl:href="#id18_Graphic"/><use filter="url(#Shadow)" xl:href="#id19_Graphic"/><use filter="url(#Shadow)" xl:href="#id35_Graphic"/><use filter="url(#Shadow)" xl:href="#id36_Graphic"/><use filter="url(#Shadow)" xl:href="#id37_Graphic"/><use filter="url(#Shadow)" xl:href="#id43_Graphic"/><use filter="url(#Shadow)" xl:href="#id44_Graphic"/><use filter="url(#Shadow)" xl:href="#id45_Graphic"/><use filter="url(#Shadow)" xl:href="#id47_Graphic"/><use filter="url(#Shadow)" xl:href="#id50_Graphic"/></g><g id="id3_Graphic"><rect width="214" height="67.026" x="284" y="553.974" fill="#ffe2b9"/><rect width="214" height="67.026" x="284" y="553.974" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(289 558.97412)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12" font-weight="500" textLength="94.055">Element Shadow </tspan><tspan x="93.844" y="11" fill="#000" font-family="Helvetica" font-size="12" font-weight="500" textLength="7.33">T</tspan><tspan x="100.734" y="11" fill="#000" font-family="Helvetica" font-size="12" font-weight="500" textLength="17.344">ree</tspan></text></g><g id="id5_Graphic"><rect width="214" height="67.026" x="284" y="455.731" fill="#ffe2b9"/><rect width="214" height="67.026" x="284" y="455.731" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(289 460.73053)"><tspan x="0" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="126.744">Oldest Shadow Subtree</tspan></text></g><g id="id6_Graphic"><rect width="214" height="67.026" x="284" y="357.487" fill="#ffd6ff"/><rect width="214" height="67.026" x="284" y="357.487" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(289 362.48706)"><tspan x="0" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="121.406">Older Shadow Subtree</tspan></text></g><g id="id7_Graphic"><rect width="214" height="67.026" x="284" y="259.244" fill="#ffd6ff"/><rect width="214" height="67.026" x="284" y="259.244" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(289 264.24356)"><tspan x="0" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="8.004">Y</tspan><tspan x="6.902" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="129.428">ounger Shadow Subtree</tspan></text></g><g id="id8_Graphic"><rect width="214" height="67.026" x="284" y="161" fill="#ffd6ff"/><rect width="214" height="67.026" x="284" y="161" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(289 166.00006)"><tspan x="0" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="8.004">Y</tspan><tspan x="6.902" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="134.766">oungest Shadow Subtree</tspan></text></g><g id="id9_Graphic"><path fill="#d5d5d5" d="M 467 173.00003 L 482 186.50003 L 467 200.00003 L 452 186.50003 Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 467 173.00003 L 482 186.50003 L 467 200.00003 L 452 186.50003 Z"/></g><line x1="467" x2="467" y1="207.4" y2="259.244" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-start="url(#SharpArrow_Marker)"/><g id="id11_Graphic"><path fill="#d5d5d5" d="M 445 281.50653 L 460 295.00653 L 445 308.50653 L 430 295.00653 Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 445 281.50653 L 460 295.00653 L 445 308.50653 L 430 295.00653 Z"/></g><line x1="445" x2="445" y1="315.907" y2="357.487" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-start="url(#SharpArrow_Marker)"/><g id="id13_Graphic"><ellipse cx="353.5" cy="207.237" fill="#d5d5d5" rx="10.5" ry="11.25"/><ellipse cx="353.5" cy="207.237" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><g id="id15_Graphic"><circle cx="84" cy="76" r="38" fill="#9ee2bd"/><circle cx="84" cy="76" r="38" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="id16_Graphic"><circle cx="154.5" cy="172.5" r="26.5" fill="#9ee2bd"/><circle cx="154.5" cy="172.5" r="26.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="id17_Graphic"><circle cx="154.5" cy="249.5" r="26.5" fill="#9ee2bd"/><circle cx="154.5" cy="249.5" r="26.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="id18_Graphic"><circle cx="154.5" cy="326.5" r="26.5" fill="#9ee2bd"/><circle cx="154.5" cy="326.5" r="26.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="id19_Graphic"><circle cx="154.5" cy="403.5" r="26.5" fill="#9ee2bd"/><circle cx="154.5" cy="403.5" r="26.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><text fill="#000" transform="translate(128 38)"><tspan x=".313" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="71.373">Shadow Host</tspan></text><text fill="#000" transform="translate(72 353) rotate(-90)"><tspan x=".463" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="140.074">Shadow Host Child Nodes</tspan></text><line x1="81" x2="79.937" y1="132" y2="212" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 78.419754 353 L 78 404 L 127.50056 403.67645"/><line x1="86" x2="127.5" y1="172.5" y2="172.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="91" x2="127.5" y1="249.5" y2="249.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="92" x2="127.5" y1="326.5" y2="326.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g id="id35_Graphic"><ellipse cx="330.5" cy="292.757" fill="#d5d5d5" rx="10.5" ry="11.25"/><ellipse cx="330.5" cy="292.757" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><g id="id36_Graphic"><ellipse cx="376.5" cy="304.474" fill="#d5d5d5" rx="10.5" ry="11.25"/><ellipse cx="376.5" cy="304.474" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><g id="id37_Graphic"><ellipse cx="371.5" cy="402.224" fill="#d5d5d5" rx="10.5" ry="11.25"/><ellipse cx="371.5" cy="402.224" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><line x1="181.1" x2="335.846" y1="177.143" y2="204.155" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#SharpArrow_Marker_2)"/><line x1="180.724" x2="313.078" y1="255.945" y2="288.474" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#SharpArrow_Marker_2)"/><line x1="181.369" x2="358.681" y1="323.834" y2="306.242" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#SharpArrow_Marker_2)"/><line x1="181.5" x2="353.6" y1="403.341" y2="402.329" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#SharpArrow_Marker_2)"/><g id="id43_Graphic"><ellipse cx="358.5" cy="499.974" fill="#fff" rx="10.5" ry="11.25"/><ellipse cx="358.5" cy="499.974" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><g id="id44_Graphic"><ellipse cx="345.5" cy="597.974" fill="#fff" rx="10.5" ry="11.25"/><ellipse cx="345.5" cy="597.974" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><g id="id45_Graphic"><ellipse cx="462.5" cy="574.763" fill="#fff" rx="10.5" ry="11.25"/><ellipse cx="462.5" cy="574.763" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><g id="id47_Graphic"><path fill="#fff" d="M 61 596.75 L 76 610.25 L 61 623.75 L 46 610.25 Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 61 596.75 L 76 610.25 L 61 623.75 L 46 610.25 Z"/></g><g id="id50_Graphic"><ellipse cx="61" cy="647.75" fill="#fff" rx="10.5" ry="11.25"/><ellipse cx="61" cy="647.75" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" rx="10.5" ry="11.25"/></g><text fill="#000" transform="translate(83 603.25)"><tspan x="0" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="126.738">- shadow insertion point</tspan></text><text fill="#000" transform="translate(84 642.75)"><tspan x="0" y="11" font-family="Helvetica" font-size="12" font-weight="500" textLength="82.043">- insertion point</tspan></text></g></g></svg>